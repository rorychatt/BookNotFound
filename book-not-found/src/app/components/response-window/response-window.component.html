<div class="response-window bg-base-200 p-6 rounded-lg shadow-lg">
  @if (response) {
    <div class="space-y-4">
      <div class="flex justify-between items-center">
        <h3 class="text-lg font-semibold">Answer</h3>
        <div class="badge" [ngClass]="certaintyClass">
          {{ certaintyText }} ({{ (response.certainty * 100).toFixed(0) }}%)
        </div>
      </div>
      
      <div class="prose max-w-none">
        <p class="whitespace-pre-wrap">{{ response.answer }}</p>
      </div>

      <div class="text-sm text-base-content/70">
        <p>Generated by: {{ response.model }}</p>
      </div>
    </div>
  }

  @if (markdownContent) {
    <div class="mt-6">
      <div class="divider">Source Documentation</div>
      <div class="prose max-w-none">
        <markdown [data]="markdownContent"></markdown>
      </div>
      @if (markdownDate) {
        <div class="text-sm text-base-content/70 mt-2">
          Last updated: {{ markdownDate | date:'medium' }}
        </div>
      }
    </div>
  }

  @if (!response && !markdownContent) {
    <div class="text-center text-base-content/70">
      <p>No response yet. Ask a question to get started!</p>
    </div>
  }
</div>
